# Length proprtions for Canadian fleets

```{r raw-lengths-canada}

# `can_dat_lst` loaded at the bottom of `000-launcher.rmd`
ft_comm_samp <- can_dat_lst$commercial_samples |> 
  filter(vessel_id %in% freezer_trawlers$gfbio_id) |> 
  mutate(survey_abbrev = "Freezer Trawlers")

ss_comm_samp <- can_dat_lst$commercial_samples |> 
    filter(!vessel_id %in% freezer_trawlers$gfbio_id) |> 
  mutate(survey_abbrev = "Shoreside")

comm_samp <- ft_comm_samp |> 
  bind_rows(ss_comm_samp)

lengths_raw <- tidy_lengths_raw(comm_samp,
                                survey = c("Freezer Trawlers", "Shoreside"),
                                bin_size = 2,
                                year_range = c(2002, Inf)
)
lengths_raw <- lengths_raw |> 
  filter(year %in% seq(last_data_yr - 4, last_data_yr))

plot_lengths(lengths_raw, show_year = "all",
             fill_col = c("F" = rgb(1, 0, 0, 0.3), "M" = rgb(0, 0, 1, 0.3))) +
  ggtitle("")
```