# Length proprtions for Canadian fleets

```{r raw-lengths-canada}

sample_df <- canada_load_sample_data()
samples_fleet_lst <- canada_get_fleet_samples(sample_df)
# Remove JV for this table
samples_fleet_lst <- samples_fleet_lst[names(samples_fleet_lst) != "jv"]
samples_fleet_lst$ft <- samples_fleet_lst$ft |> 
  mutate(survey_abbrev = "Freezer Trawlers")
samples_fleet_lst$ss <- samples_fleet_lst$ss |> 
  mutate(survey_abbrev = "Shoreside")
comm_samp <- samples_fleet_lst$ft |> 
  bind_rows(samples_fleet_lst$ss)

lengths_raw <- tidy_lengths_raw(comm_samp,
                                survey = c("Freezer Trawlers", "Shoreside"),
                                bin_size = 2,
                                year_range = seq(last_data_yr - 10, last_data_yr))

plot_weights_lengths(lengths_raw,
                     type = "length",
                     bin_width = 2,
                     x_breaks = seq(0, 100, 20),
                     label_font_size = 4,
                     fill_col = c("F" = rgb(1, 0, 0, 0.3), # red with transparency
                                  "M" = rgb(0, 0, 1, 0.3)), # blue with transparency
                     unit_str = "cm")
```